!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("@nivo/axes"),require("@nivo/annotations"),require("react/jsx-runtime"),require("@nivo/legends"),require("@nivo/core"),require("react"),require("@react-spring/web"),require("@nivo/tooltip"),require("@nivo/colors"),require("@nivo/scales"),require("d3-shape"),require("lodash/uniqBy")):"function"==typeof define&&define.amd?define(["exports","@nivo/axes","@nivo/annotations","react/jsx-runtime","@nivo/legends","@nivo/core","react","@react-spring/web","@nivo/tooltip","@nivo/colors","@nivo/scales","d3-shape","lodash/uniqBy"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.nivo,e.nivo,e["react/jsx-runtime"],e.nivo,e.nivo,e.React,e["@react-spring/web"],e.nivo,e.nivo,e.nivo,e.d3,e["lodash/uniqBy"])}(this,(function(e,a,t,i,n,r,o,l,d,u,s,c,h){"use strict";function v(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var b=v(h);function g(){return g=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},g.apply(this,arguments)}function f(e,a){if(null==e)return{};var t,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],a.indexOf(t)>=0||(n[t]=e[t]);return n}var m,p=function(e){var a=e.bars,n=e.annotations,r=t.useAnnotations({data:a,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var a=e.height,t=e.width;return{width:t,height:a,size:Math.max(t,a)}}});return i.jsx(i.Fragment,{children:r.map((function(e,a){return i.jsx(t.Annotation,g({},e),a)}))})},x=function(e){var a=e.width,t=e.height,r=e.legends,o=e.toggleSerie;return i.jsx(i.Fragment,{children:r.map((function(e,r){var l,d=e[0],u=e[1];return i.jsx(n.BoxLegendSvg,g({},d,{containerWidth:a,containerHeight:t,data:null!=(l=d.data)?l:u,toggleSerie:d.toggleSerie&&"keys"===d.dataFrom?o:void 0}),r)}))})},y=["data"],S=function(e){var a,t=e.bar,n=t.data,u=f(t,y),s=e.style,c=s.borderColor,h=s.color,v=s.height,b=s.labelColor,m=s.labelOpacity,p=s.labelX,x=s.labelY,S=s.transform,k=s.width,C=e.borderRadius,w=e.borderWidth,L=e.label,V=e.shouldRenderLabel,B=e.isInteractive,M=e.onClick,T=e.onMouseEnter,W=e.onMouseLeave,I=e.tooltip,R=e.isFocusable,j=e.ariaLabel,P=e.ariaLabelledBy,E=e.ariaDescribedBy,F=r.useTheme(),H=d.useTooltip(),A=H.showTooltipFromEvent,q=H.showTooltipAt,D=H.hideTooltip,X=o.useMemo((function(){return function(){return o.createElement(I,g({},u,n))}}),[I,u,n]),Y=o.useCallback((function(e){null==M||M(g({color:u.color},n),e)}),[u,n,M]),O=o.useCallback((function(e){return A(X(),e)}),[A,X]),G=o.useCallback((function(e){null==T||T(n,e),A(X(),e)}),[n,T,A,X]),z=o.useCallback((function(e){null==W||W(n,e),D()}),[n,D,W]),K=o.useCallback((function(){q(X(),[u.absX+u.width/2,u.absY])}),[q,X,u]),N=o.useCallback((function(){D()}),[D]);return i.jsxs(l.animated.g,{transform:S,children:[i.jsx(l.animated.rect,{width:l.to(k,(function(e){return Math.max(e,0)})),height:l.to(v,(function(e){return Math.max(e,0)})),rx:C,ry:C,fill:null!=(a=n.fill)?a:h,strokeWidth:w,stroke:c,focusable:R,tabIndex:R?0:void 0,"aria-label":j?j(n):void 0,"aria-labelledby":P?P(n):void 0,"aria-describedby":E?E(n):void 0,onMouseEnter:B?G:void 0,onMouseMove:B?O:void 0,onMouseLeave:B?z:void 0,onClick:B?Y:void 0,onFocus:B&&R?K:void 0,onBlur:B&&R?N:void 0}),V&&i.jsx(l.animated.text,{x:p,y:x,textAnchor:"middle",dominantBaseline:"central",fillOpacity:m,style:g({},F.labels.text,{pointerEvents:"none",fill:b}),children:L})]})},k=["color","label"],C={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var a=e.color,t=e.label,n=f(e,k);return i.jsx(d.BasicTooltip,{id:t,value:n.formattedValue,enableChip:!0,color:a})},tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[]},w=g({},C,{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:S,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),L=g({},C,{layers:["grid","axes","bars","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(m=window.devicePixelRatio)?m:1}),V=function(e,a,t,i,n,r){return s.computeScale(i,{all:e.map(a),min:0,max:0},n,r).padding(t)},B=function(e,a){return e.map((function(e){return g({},a.reduce((function(e,a){return e[a]=null,e}),{}),e)}))},M=function(e){return Object.keys(e).reduce((function(a,t){return e[t]&&(a[t]=e[t]),a}),{})},T=function(e){return[e,Number(e)]},W=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],I=function(e,a){return e>a},R=function(e,a){return e<a},j=function(e,a){return Array.from(" ".repeat(a-e),(function(a,t){return e+t}))},P=function(e){return I(e,0)?0:e},E=function(e,a,t,i){var n=e.data,r=e.formatValue,o=e.getColor,l=e.getIndex,d=e.getTooltipLabel,u=e.innerPadding,s=void 0===u?0:u,c=e.keys,h=e.xScale,v=e.yScale,b=e.margin,g=t?R:I,f=n.map(M),m=[];return c.forEach((function(e,t){return j(0,h.domain().length).forEach((function(u){var c,p,x,y=T(n[u][e]),S=y[0],k=y[1],C=l(n[u]),w=(null!=(c=h(C))?c:0)+a*t+s*t,L=g(p=k,0)?null!=(x=v(p))?x:0:i,V=function(e,a){var t;return g(e,0)?i-a:(null!=(t=v(e))?t:0)-i}(k,L),B={id:e,value:null===S?S:k,formattedValue:r(k),hidden:!1,index:u,indexValue:C,data:f[u]};m.push({key:e+"."+B.indexValue,index:m.length,data:B,x:w,y:L,absX:b.left+w,absY:b.top+L,width:a,height:V,color:o(B),label:d(B)})}))})),m},F=function(e,a,t,i){var n=e.data,r=e.formatValue,o=e.getIndex,l=e.getColor,d=e.getTooltipLabel,u=e.keys,s=e.innerPadding,c=void 0===s?0:s,h=e.xScale,v=e.yScale,b=e.margin,g=t?R:I,f=n.map(M),m=[];return u.forEach((function(e,t){return j(0,v.domain().length).forEach((function(u){var s,p,x,y=T(n[u][e]),S=y[0],k=y[1],C=o(n[u]),w=g(p=k,0)?i:null!=(x=h(p))?x:0,L=(null!=(s=v(C))?s:0)+a*t+c*t,V=function(e,a){var t;return g(e,0)?(null!=(t=h(e))?t:0)-i:i-a}(k,w),B={id:e,value:null===S?S:k,formattedValue:r(k),hidden:!1,index:u,indexValue:C,data:f[u]};m.push({key:e+"."+B.indexValue,index:m.length,data:B,x:w,y:L,absX:b.left+w,absY:b.top+L,width:V,height:a,color:l(B),label:d(B)})}))})),m},H=function(e){var a,t,i=e.layout,n=e.minValue,r=e.maxValue,o=e.reverse,l=e.width,d=e.height,u=e.padding,c=void 0===u?0:u,h=e.innerPadding,v=void 0===h?0:h,b=e.valueScale,m=e.indexScale,p=e.hiddenIds,x=void 0===p?[]:p,y=f(e,W),S=y.keys.filter((function(e){return!x.includes(e)})),k=B(y.data,S),C="vertical"===i?["y","x",l]:["x","y",d],w=C[0],L=C[1],M=C[2],T=V(k,y.getIndex,c,m,M,L),I=g({max:r,min:n,reverse:o},b),R="auto"===I.min?P:function(e){return e},j=k.reduce((function(e,a){return[].concat(e,S.map((function(e){return a[e]})))}),[]).filter(Boolean),H=R(Math.min.apply(Math,j)),A=(t=Math.max.apply(Math,j),isFinite(t)?t:0),q=s.computeScale(I,{all:j,min:H,max:A},"x"===w?l:d,w),D="vertical"===i?[T,q]:[q,T],X=D[0],Y=D[1],O=(T.bandwidth()-v*(S.length-1))/S.length,G=[g({},y,{data:k,keys:S,innerPadding:v,xScale:X,yScale:Y}),O,I.reverse,null!=(a=q(0))?a:0];return{xScale:X,yScale:Y,bars:O>0?"vertical"===i?E.apply(void 0,G):F.apply(void 0,G):[]}},A=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],q=function e(a){var t;return a.some(Array.isArray)?e((t=[]).concat.apply(t,a)):a},D=function(e,a,t){var i=e.formatValue,n=e.getColor,r=e.getIndex,o=e.getTooltipLabel,l=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return u.domain().forEach((function(d,v){var b,g,f=e[v],m=null!=(b=u(r(f.data)))?b:0,p=(null!=(g=function(e){return s(e[t?0:1])}(f))?g:0)+.5*l,x=function(e,a){var i;return(null!=(i=s(e[t?1:0]))?i:0)-a}(f,p)-l,y=T(f.data[e.key]),S=y[0],k=y[1],C={id:e.key,value:null===S?S:k,formattedValue:i(k),hidden:!1,index:v,indexValue:d,data:M(f.data)};h.push({key:e.key+"."+d,index:h.length,data:C,x:m,y:p,absX:c.left+m,absY:c.top+p,width:a,height:x,color:n(C),label:o(C)})}))})),h},X=function(e,a,t){var i=e.formatValue,n=e.getColor,r=e.getIndex,o=e.getTooltipLabel,l=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return s.domain().forEach((function(d,v){var b,g,f=e[v],m=null!=(b=s(r(f.data)))?b:0,p=(null!=(g=function(e){return u(e[t?1:0])}(f))?g:0)+.5*l,x=function(e,a){var i;return(null!=(i=u(e[t?0:1]))?i:0)-a}(f,p)-l,y=T(f.data[e.key]),S=y[0],k=y[1],C={id:e.key,value:null===S?S:k,formattedValue:i(k),hidden:!1,index:v,indexValue:d,data:M(f.data)};h.push({key:e.key+"."+d,index:h.length,data:C,x:p,y:m,absX:c.left+p,absY:c.top+m,width:x,height:a,color:n(C),label:o(C)})}))})),h},Y=function(e){var a,t=e.data,i=e.layout,n=e.minValue,r=e.maxValue,o=e.reverse,l=e.width,d=e.height,u=e.padding,h=void 0===u?0:u,v=e.valueScale,b=e.indexScale,m=e.hiddenIds,p=void 0===m?[]:m,x=f(e,A),y=x.keys.filter((function(e){return!p.includes(e)})),S=c.stack().keys(y).offset(c.stackOffsetDiverging)(B(t,y)),k="vertical"===i?["y","x",l]:["x","y",d],C=k[0],w=k[1],L=k[2],M=V(t,x.getIndex,h,b,L,w),T=g({max:r,min:n,reverse:o},v),W=(a=q(S),"log"===v.type?a.filter((function(e){return 0!==e})):a),I=Math.min.apply(Math,W),R=Math.max.apply(Math,W),j=s.computeScale(T,{all:W,min:I,max:R},"x"===C?l:d,C),P="vertical"===i?[M,j]:[j,M],E=P[0],F=P[1],H=x.innerPadding>0?x.innerPadding:0,Y=M.bandwidth(),O=[g({},x,{innerPadding:H,stackedData:S,xScale:E,yScale:F}),Y,T.reverse];return{xScale:E,yScale:F,bars:Y>0?"vertical"===i?D.apply(void 0,O):X.apply(void 0,O):[]}},O=function(e){var a=e.bars,t=e.direction,i=e.from,n=e.groupMode,o=e.layout,l=e.legendLabel,d=e.reverse,u=r.getPropertyAccessor(null!=l?l:"indexes"===i?"indexValue":"id");return"indexes"===i?function(e,a,t){var i=b.default(e.map((function(e){var a,i;return{id:null!=(a=e.data.indexValue)?a:"",label:t(e.data),hidden:e.data.hidden,color:null!=(i=e.color)?i:"#000"}})),(function(e){return e.id}));return"horizontal"===a&&i.reverse(),i}(a,o,u):function(e,a,t,i,n,r){var o=b.default(e.map((function(e){var a;return{id:e.data.id,label:r(e.data),hidden:e.data.hidden,color:null!=(a=e.color)?a:"#000"}})),(function(e){return e.id}));return("vertical"===a&&"stacked"===i&&"column"===t&&!0!==n||"horizontal"===a&&"stacked"===i&&!0===n)&&o.reverse(),o}(a,o,t,n,d,u)},G=function(e){var a=e.indexBy,t=void 0===a?C.indexBy:a,i=e.keys,n=void 0===i?C.keys:i,l=e.label,d=void 0===l?C.label:l,s=e.tooltipLabel,c=void 0===s?C.tooltipLabel:s,h=e.valueFormat,v=e.colors,b=void 0===v?C.colors:v,f=e.colorBy,m=void 0===f?C.colorBy:f,p=e.borderColor,x=void 0===p?C.borderColor:p,y=e.labelTextColor,S=void 0===y?C.labelTextColor:y,k=e.groupMode,w=void 0===k?C.groupMode:k,L=e.layout,V=void 0===L?C.layout:L,B=e.reverse,M=void 0===B?C.reverse:B,T=e.data,W=e.minValue,I=void 0===W?C.minValue:W,R=e.maxValue,j=void 0===R?C.maxValue:R,P=e.margin,E=e.width,F=e.height,A=e.padding,q=void 0===A?C.padding:A,D=e.innerPadding,X=void 0===D?C.innerPadding:D,G=e.valueScale,z=void 0===G?C.valueScale:G,K=e.indexScale,N=void 0===K?C.indexScale:K,_=e.initialHiddenIds,J=void 0===_?C.initialHiddenIds:_,Q=e.enableLabel,U=void 0===Q?C.enableLabel:Q,Z=e.labelSkipWidth,$=void 0===Z?C.labelSkipWidth:Z,ee=e.labelSkipHeight,ae=void 0===ee?C.labelSkipHeight:ee,te=e.legends,ie=void 0===te?C.legends:te,ne=e.legendLabel,re=o.useState(null!=J?J:[]),oe=re[0],le=re[1],de=o.useCallback((function(e){le((function(a){return a.indexOf(e)>-1?a.filter((function(a){return a!==e})):[].concat(a,[e])}))}),[]),ue=r.usePropertyAccessor(t),se=r.usePropertyAccessor(d),ce=r.usePropertyAccessor(c),he=r.useValueFormatter(h),ve=r.useTheme(),be=u.useOrdinalColorScale(b,m),ge=u.useInheritedColor(x,ve),fe=u.useInheritedColor(S,ve),me=("grouped"===w?H:Y)({layout:V,reverse:M,data:T,getIndex:ue,keys:n,minValue:I,maxValue:j,width:E,height:F,getColor:be,padding:q,innerPadding:X,valueScale:z,indexScale:N,hiddenIds:oe,formatValue:he,getTooltipLabel:ce,margin:P}),pe=me.bars,xe=me.xScale,ye=me.yScale,Se=o.useMemo((function(){return pe.filter((function(e){return null!==e.data.value})).map((function(e,a){return g({},e,{index:a})}))}),[pe]),ke=o.useCallback((function(e){var a=e.width,t=e.height;return!!U&&(!($>0&&a<$)&&!(ae>0&&t<ae))}),[U,$,ae]),Ce=o.useMemo((function(){return n.map((function(e){var a=pe.find((function(a){return a.data.id===e}));return g({},a,{data:g({id:e},null==a?void 0:a.data,{hidden:oe.includes(e)})})}))}),[oe,n,pe]),we=o.useMemo((function(){return ie.map((function(e){return[e,O({bars:"keys"===e.dataFrom?Ce:pe,direction:e.direction,from:e.dataFrom,groupMode:w,layout:V,legendLabel:ne,reverse:M})]}))}),[ie,Ce,pe,w,V,ne,M]);return{bars:pe,barsWithValue:Se,xScale:xe,yScale:ye,getIndex:ue,getLabel:se,getTooltipLabel:ce,formatValue:he,getColor:be,getBorderColor:ge,getLabelColor:fe,shouldRenderBarLabel:ke,hiddenIds:oe,toggleSerie:de,legendsWithData:we}},z=["isInteractive","animate","motionConfig","theme","renderWrapper"],K=function(e){var t=e.data,n=e.indexBy,d=e.keys,u=e.margin,s=e.width,c=e.height,h=e.groupMode,v=e.layout,b=e.reverse,f=e.minValue,m=e.maxValue,y=e.valueScale,S=e.indexScale,k=e.padding,C=e.innerPadding,L=e.axisTop,V=e.axisRight,B=e.axisBottom,M=void 0===B?w.axisBottom:B,T=e.axisLeft,W=void 0===T?w.axisLeft:T,I=e.enableGridX,R=void 0===I?w.enableGridX:I,j=e.enableGridY,P=void 0===j?w.enableGridY:j,E=e.gridXValues,F=e.gridYValues,H=e.layers,A=void 0===H?w.layers:H,q=e.barComponent,D=void 0===q?w.barComponent:q,X=e.enableLabel,Y=e.label,O=e.labelSkipWidth,z=e.labelSkipHeight,K=e.labelTextColor,N=e.markers,_=void 0===N?w.markers:N,J=e.colorBy,Q=e.colors,U=e.defs,Z=void 0===U?w.defs:U,$=e.fill,ee=void 0===$?w.fill:$,ae=e.borderRadius,te=void 0===ae?w.borderRadius:ae,ie=e.borderWidth,ne=void 0===ie?w.borderWidth:ie,re=e.borderColor,oe=e.annotations,le=void 0===oe?w.annotations:oe,de=e.legendLabel,ue=e.tooltipLabel,se=e.valueFormat,ce=e.isInteractive,he=void 0===ce?w.isInteractive:ce,ve=e.tooltip,be=void 0===ve?w.tooltip:ve,ge=e.onClick,fe=e.onMouseEnter,me=e.onMouseLeave,pe=e.legends,xe=e.role,ye=void 0===xe?w.role:xe,Se=e.ariaLabel,ke=e.ariaLabelledBy,Ce=e.ariaDescribedBy,we=e.isFocusable,Le=void 0===we?w.isFocusable:we,Ve=e.barAriaLabel,Be=e.barAriaLabelledBy,Me=e.barAriaDescribedBy,Te=e.initialHiddenIds,We=r.useMotionConfig(),Ie=We.animate,Re=We.config,je=r.useDimensions(s,c,u),Pe=je.outerWidth,Ee=je.outerHeight,Fe=je.margin,He=je.innerWidth,Ae=je.innerHeight,qe=G({indexBy:n,label:Y,tooltipLabel:ue,valueFormat:se,colors:Q,colorBy:J,borderColor:re,labelTextColor:K,groupMode:h,layout:v,reverse:b,data:t,keys:d,minValue:f,maxValue:m,margin:Fe,width:He,height:Ae,padding:k,innerPadding:C,valueScale:y,indexScale:S,enableLabel:X,labelSkipWidth:O,labelSkipHeight:z,legends:pe,legendLabel:de,initialHiddenIds:Te}),De=qe.bars,Xe=qe.barsWithValue,Ye=qe.xScale,Oe=qe.yScale,Ge=qe.getLabel,ze=qe.getTooltipLabel,Ke=qe.getBorderColor,Ne=qe.getLabelColor,_e=qe.shouldRenderBarLabel,Je=qe.toggleSerie,Qe=qe.legendsWithData,Ue=l.useTransition(Xe,{keys:function(e){return e.key},from:function(e){return g({borderColor:Ke(e),color:e.color,height:0,labelColor:Ne(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===v?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return{borderColor:Ke(e),color:e.color,height:e.height,labelColor:Ne(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},update:function(e){return{borderColor:Ke(e),color:e.color,height:e.height,labelColor:Ne(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},leave:function(e){return g({borderColor:Ke(e),color:e.color,height:0,labelColor:Ne(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===v?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},config:Re,immediate:!Ie}),Ze=o.useMemo((function(){return{borderRadius:te,borderWidth:ne,enableLabel:X,isInteractive:he,labelSkipWidth:O,labelSkipHeight:z,onClick:ge,onMouseEnter:fe,onMouseLeave:me,getTooltipLabel:ze,tooltip:be,isFocusable:Le,ariaLabel:Ve,ariaLabelledBy:Be,ariaDescribedBy:Me}}),[te,ne,X,ze,he,z,O,ge,fe,me,be,Le,Ve,Be,Me]),$e=r.bindDefs(Z,De,ee,{dataKey:"data",targetKey:"data.fill"}),ea={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};A.includes("annotations")&&(ea.annotations=i.jsx(p,{bars:De,annotations:le},"annotations")),A.includes("axes")&&(ea.axes=i.jsx(a.Axes,{xScale:Ye,yScale:Oe,width:He,height:Ae,top:L,right:V,bottom:M,left:W},"axes")),A.includes("bars")&&(ea.bars=i.jsx(o.Fragment,{children:Ue((function(e,a){return o.createElement(D,g({},Ze,{bar:a,style:e,shouldRenderLabel:_e(a),label:Ge(a.data)}))}))},"bars")),A.includes("grid")&&(ea.grid=i.jsx(a.Grid,{width:He,height:Ae,xScale:R?Ye:null,yScale:P?Oe:null,xValues:E,yValues:F},"grid")),A.includes("legends")&&(ea.legends=i.jsx(x,{width:He,height:Ae,legends:Qe,toggleSerie:Je},"legends")),A.includes("markers")&&(ea.markers=i.jsx(r.CartesianMarkers,{markers:_,width:He,height:Ae,xScale:Ye,yScale:Oe},"markers"));var aa=o.useMemo((function(){return g({},Ze,{margin:Fe,innerWidth:He,innerHeight:Ae,width:s,height:c,bars:De,xScale:Ye,yScale:Oe})}),[Ze,Fe,He,Ae,s,c,De,Ye,Oe]);return i.jsx(r.SvgWrapper,{width:Pe,height:Ee,margin:Fe,defs:$e,role:ye,ariaLabel:Se,ariaLabelledBy:ke,ariaDescribedBy:Ce,isFocusable:Le,children:A.map((function(e,a){var t;return"function"==typeof e?i.jsx(o.Fragment,{children:o.createElement(e,aa)},a):null!=(t=null==ea?void 0:ea[e])?t:null}))})},N=function(e){var a=e.isInteractive,t=void 0===a?w.isInteractive:a,n=e.animate,o=void 0===n?w.animate:n,l=e.motionConfig,d=void 0===l?w.motionConfig:l,u=e.theme,s=e.renderWrapper,c=f(e,z);return i.jsx(r.Container,{animate:o,isInteractive:t,motionConfig:d,renderWrapper:s,theme:u,children:i.jsx(K,g({isInteractive:t},c))})},_=["isInteractive","renderWrapper","theme"],J=function(e,a,t,i){return e.find((function(e){return r.isCursorInRect(e.x+a.left,e.y+a.top,e.width,e.height,t,i)}))},Q=function(e){var l=e.data,u=e.indexBy,s=e.keys,c=e.margin,h=e.width,v=e.height,b=e.groupMode,f=e.layout,m=e.reverse,p=e.minValue,x=e.maxValue,y=e.valueScale,S=e.indexScale,k=e.padding,C=e.innerPadding,w=e.axisTop,V=e.axisRight,B=e.axisBottom,M=void 0===B?L.axisBottom:B,T=e.axisLeft,W=void 0===T?L.axisLeft:T,I=e.enableGridX,R=void 0===I?L.enableGridX:I,j=e.enableGridY,P=void 0===j?L.enableGridY:j,E=e.gridXValues,F=e.gridYValues,H=e.layers,A=void 0===H?L.layers:H,q=e.renderBar,D=void 0===q?function(e,a){var t=a.bar,i=t.color,n=t.height,r=t.width,o=t.x,l=t.y,d=a.borderColor,u=a.borderRadius,s=a.borderWidth,c=a.label,h=a.labelColor,v=a.shouldRenderLabel;if(e.fillStyle=i,s>0&&(e.strokeStyle=d,e.lineWidth=s),e.beginPath(),u>0){var b=Math.min(u,n);e.moveTo(o+b,l),e.lineTo(o+r-b,l),e.quadraticCurveTo(o+r,l,o+r,l+b),e.lineTo(o+r,l+n-b),e.quadraticCurveTo(o+r,l+n,o+r-b,l+n),e.lineTo(o+b,l+n),e.quadraticCurveTo(o,l+n,o,l+n-b),e.lineTo(o,l+b),e.quadraticCurveTo(o,l,o+b,l),e.closePath()}else e.rect(o,l,r,n);e.fill(),s>0&&e.stroke(),v&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=h,e.fillText(c,o+r/2,l+n/2))}:q,X=e.enableLabel,Y=e.label,O=e.labelSkipWidth,z=e.labelSkipHeight,K=e.labelTextColor,N=e.colorBy,_=e.colors,Q=e.borderRadius,U=void 0===Q?L.borderRadius:Q,Z=e.borderWidth,$=void 0===Z?L.borderWidth:Z,ee=e.borderColor,ae=e.annotations,te=void 0===ae?L.annotations:ae,ie=e.legendLabel,ne=e.tooltipLabel,re=e.valueFormat,oe=e.isInteractive,le=void 0===oe?L.isInteractive:oe,de=e.tooltip,ue=void 0===de?L.tooltip:de,se=e.onClick,ce=e.onMouseEnter,he=e.onMouseLeave,ve=e.legends,be=e.pixelRatio,ge=void 0===be?L.pixelRatio:be,fe=e.canvasRef,me=o.useRef(null),pe=r.useTheme(),xe=r.useDimensions(h,v,c),ye=xe.margin,Se=xe.innerWidth,ke=xe.innerHeight,Ce=xe.outerWidth,we=xe.outerHeight,Le=G({indexBy:u,label:Y,tooltipLabel:ne,valueFormat:re,colors:_,colorBy:N,borderColor:ee,labelTextColor:K,groupMode:b,layout:f,reverse:m,data:l,keys:s,minValue:p,maxValue:x,margin:ye,width:Se,height:ke,padding:k,innerPadding:C,valueScale:y,indexScale:S,enableLabel:X,labelSkipWidth:O,labelSkipHeight:z,legends:ve,legendLabel:ie}),Ve=Le.bars,Be=Le.barsWithValue,Me=Le.xScale,Te=Le.yScale,We=Le.getLabel,Ie=Le.getTooltipLabel,Re=Le.getBorderColor,je=Le.getLabelColor,Pe=Le.shouldRenderBarLabel,Ee=Le.legendsWithData,Fe=d.useTooltip(),He=Fe.showTooltipFromEvent,Ae=Fe.hideTooltip,qe=t.useComputedAnnotations({annotations:t.useAnnotations({data:Ve,annotations:te,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var a=e.width,t=e.height;return{width:a,height:t,size:Math.max(a,t)}}})}),De=o.useMemo((function(){return{borderRadius:U,borderWidth:$,enableLabel:X,isInteractive:le,labelSkipWidth:O,labelSkipHeight:z,onClick:se,onMouseEnter:ce,onMouseLeave:he,getTooltipLabel:Ie,tooltip:ue,margin:ye,innerWidth:Se,innerHeight:ke,width:h,height:v,bars:Ve,xScale:Me,yScale:Te}}),[U,$,X,Ie,v,ke,Se,le,z,O,ye,se,ce,he,Ve,Me,Te,ue,h]);o.useEffect((function(){var e,i=null==(e=me.current)?void 0:e.getContext("2d");me.current&&i&&(me.current.width=Ce*ge,me.current.height=we*ge,i.scale(ge,ge),i.fillStyle=pe.background,i.fillRect(0,0,Ce,we),i.translate(ye.left,ye.top),A.forEach((function(e){"grid"===e?"number"==typeof pe.grid.line.strokeWidth&&pe.grid.line.strokeWidth>0&&(i.lineWidth=pe.grid.line.strokeWidth,i.strokeStyle=pe.grid.line.stroke,R&&a.renderGridLinesToCanvas(i,{width:h,height:v,scale:Me,axis:"x",values:E}),P&&a.renderGridLinesToCanvas(i,{width:h,height:v,scale:Te,axis:"y",values:F})):"axes"===e?a.renderAxesToCanvas(i,{xScale:Me,yScale:Te,width:Se,height:ke,top:w,right:V,bottom:M,left:W,theme:pe}):"bars"===e?Be.forEach((function(e){D(i,{bar:e,borderColor:Re(e),borderRadius:U,borderWidth:$,label:We(e.data),labelColor:je(e),shouldRenderLabel:Pe(e)})})):"legends"===e?Ee.forEach((function(e){var a=e[0],t=e[1];n.renderLegendToCanvas(i,g({},a,{data:t,containerWidth:Se,containerHeight:ke,theme:pe}))})):"annotations"===e?t.renderAnnotationsToCanvas(i,{annotations:qe,theme:pe}):"function"==typeof e&&e(i,De)})),i.save())}),[M,W,V,w,Be,U,$,qe,R,P,Re,We,je,E,F,b,v,ke,Se,De,A,f,Ee,ye.left,ye.top,we,Ce,ge,D,Me,Te,m,Pe,pe,h]);var Xe=o.useCallback((function(e){if(Ve&&me.current){var a=r.getRelativeCursor(me.current,e),t=a[0],i=a[1],n=J(Ve,ye,t,i);void 0!==n?(He(o.createElement(ue,g({},n.data,{color:n.color,label:n.label,value:Number(n.data.value)})),e),"mouseenter"===e.type&&(null==ce||ce(n.data,e))):Ae()}}),[Ae,ye,ce,Ve,He,ue]),Ye=o.useCallback((function(e){if(Ve&&me.current){Ae();var a=r.getRelativeCursor(me.current,e),t=a[0],i=a[1],n=J(Ve,ye,t,i);n&&(null==he||he(n.data,e))}}),[Ae,ye,he,Ve]),Oe=o.useCallback((function(e){if(Ve&&me.current){var a=r.getRelativeCursor(me.current,e),t=a[0],i=a[1],n=J(Ve,ye,t,i);void 0!==n&&(null==se||se(g({},n.data,{color:n.color}),e))}}),[ye,se,Ve]);return i.jsx("canvas",{ref:function(e){me.current=e,fe&&"current"in fe&&(fe.current=e)},width:Ce*ge,height:we*ge,style:{width:Ce,height:we,cursor:le?"auto":"normal"},onMouseEnter:le?Xe:void 0,onMouseMove:le?Xe:void 0,onMouseLeave:le?Ye:void 0,onClick:le?Oe:void 0})},U=o.forwardRef((function(e,a){var t=e.isInteractive,n=e.renderWrapper,o=e.theme,l=f(e,_);return i.jsx(r.Container,{isInteractive:t,renderWrapper:n,theme:o,animate:!1,children:i.jsx(Q,g({},l,{canvasRef:a}))})})),Z=o.forwardRef((function(e,a){return i.jsx(r.ResponsiveWrapper,{children:function(t){var n=t.width,r=t.height;return i.jsx(U,g({width:n,height:r},e,{ref:a}))}})}));e.Bar=N,e.BarCanvas=U,e.BarItem=S,e.ResponsiveBar=function(e){return i.jsx(r.ResponsiveWrapper,{children:function(a){var t=a.width,n=a.height;return i.jsx(N,g({width:t,height:n},e))}})},e.ResponsiveBarCanvas=Z,e.canvasDefaultProps=L,e.defaultProps=C,e.svgDefaultProps=w,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-bar.umd.js.map
