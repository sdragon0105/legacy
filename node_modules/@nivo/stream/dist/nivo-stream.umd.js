!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("react"),require("@nivo/core"),require("@nivo/axes"),require("@nivo/legends"),require("@react-spring/web"),require("@nivo/tooltip"),require("react/jsx-runtime"),require("d3-shape"),require("d3-scale"),require("@nivo/colors")):"function"==typeof define&&define.amd?define(["exports","react","@nivo/core","@nivo/axes","@nivo/legends","@react-spring/web","@nivo/tooltip","react/jsx-runtime","d3-shape","d3-scale","@nivo/colors"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e.nivo,e.nivo,e.nivo,e["@react-spring/web"],e.nivo,e["react/jsx-runtime"],e.d3,e.d3,e.nivo)}(this,(function(e,o,r,t,i,n,l,a,d,s,c){"use strict";function u(){return u=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},u.apply(this,arguments)}var f=function(e){var t=e.layer,i=e.fillOpacity,d=e.borderWidth,s=e.getBorderColor,c=e.isInteractive,u=e.tooltip,f=l.useTooltip(),p=f.showTooltipFromEvent,v=f.hideTooltip,h=o.useCallback((function(e){p(o.createElement(u,{layer:t}),e,"left")}),[p,t]),g=r.useMotionConfig(),m=g.animate,y=g.config,x=r.useAnimatedPath(t.path),b=n.useSpring({color:t.color,config:y,immediate:!m});return a.jsx(n.animated.path,{d:x,fill:t.fill?t.fill:b.color,fillOpacity:i,stroke:s(t),strokeWidth:d,onMouseMove:c?h:void 0,onMouseEnter:c?h:void 0,onMouseLeave:c?v:void 0})},p=function(e){var o=e.layers,r=e.fillOpacity,t=e.borderWidth,i=e.getBorderColor,n=e.isInteractive,l=e.tooltip;return a.jsx("g",{children:o.map((function(e,o){return a.jsx(f,{layer:e,getBorderColor:i,borderWidth:t,fillOpacity:r,isInteractive:n,tooltip:l},o)}))})},v=function(e,o){var r=e.y2;return"center"===o?r=e.y1+(e.y2-e.y1)/2:"start"===o&&(r=e.y1),r},h=function(e){var r=e.data,t=e.dotComponent,i=e.position,n=e.getSize,l=e.getColor,d=e.getBorderWidth,s=e.getBorderColor;return a.jsx(a.Fragment,{children:r.map((function(e,r){return o.createElement(t,{key:r,datum:e,x:e.x,y:v(e,i),size:n(e),color:l(e),borderWidth:d(e),borderColor:s(e)})}))})},g=function(e){var r=e.slice,t=e.height,i=e.tooltip,n=o.useState(!1),d=n[0],s=n[1],c=l.useTooltip(),u=c.showTooltipFromEvent,f=c.hideTooltip,p=o.useCallback((function(e){s(!0),u(o.createElement(i,{slice:r}),e,"left")}),[s,u,i,r]),v=o.useCallback((function(){s(!1),f()}),[s,f]);return a.jsxs("g",{transform:"translate("+r.x+", 0)",children:[d&&a.jsx("line",{x1:0,x2:0,y1:0,y2:t,stroke:"#000",strokeOpacity:.35,strokeWidth:1}),a.jsx("rect",{x:-20,width:40,height:t,fill:"#000",fillOpacity:0,onMouseEnter:p,onMouseMove:p,onMouseLeave:v})]})},m=function(e){var o=e.slices,r=e.height,t=e.tooltip;return a.jsx("g",{children:o.map((function(e){return a.jsx(g,{slice:e,height:r,tooltip:t},e.index)}))})},y={label:"id",order:"none",offsetType:"wiggle",curve:"catmullRom",axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableDots:!1,dotPosition:"center",dotComponent:function(e){var o=e.x,t=e.y,i=e.size,l=e.color,d=e.borderWidth,s=e.borderColor,c=r.useMotionConfig(),u=c.animate,f=c.config,p=n.useSpring({x:o,y:t,radius:.5*i,color:l,config:f,immediate:!u});return a.jsx(n.animated.circle,{cx:p.x,cy:p.y,r:p.radius,fill:p.color,strokeWidth:d,stroke:s})},dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var o=e.layer;return a.jsx(l.BasicTooltip,{id:o.label,enableChip:!0,color:o.color})},enableStackTooltip:!0,stackTooltip:function(e){var r=e.slice,t=o.useMemo((function(){return r.stack.map((function(e){return[a.jsx(l.Chip,{color:e.color},e.layerId),e.layerLabel,e.formattedValue]}))}),[r]);return a.jsx(l.TableTooltip,{rows:t})},legends:[],legendLabel:"id",role:"application"},x=u({},y,{layers:["grid","axes","layers","dots","slices","legends"],defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),b=function(e){var t=e.width,i=e.height,n=e.data,l=e.keys,a=e.label,f=void 0===a?y.label:a,p=e.valueFormat,v=e.offsetType,h=void 0===v?y.offsetType:v,g=e.order,m=void 0===g?y.order:g,x=e.curve,b=void 0===x?y.curve:x,C=e.colors,j=void 0===C?y.colors:C,B=e.borderColor,S=void 0===B?y.borderColor:B,k=e.dotSize,W=void 0===k?y.dotSize:k,M=e.dotColor,T=void 0===M?y.dotColor:M,O=e.dotBorderWidth,I=void 0===O?y.dotBorderWidth:O,w=e.dotBorderColor,D=void 0===w?y.dotBorderColor:w,L=r.useCurveInterpolation(b),F=o.useMemo((function(){return d.area().x((function(e){return e.x})).y0((function(e){return e.y1})).y1((function(e){return e.y2})).curve(L)}),[L]),P=o.useMemo((function(){return d.stack().keys(l).offset(r.stackOffsetFromProp(h)).order(r.stackOrderFromProp(m))}),[l,h,m]),z=o.useMemo((function(){var e=[],o=[],r=P(n).map((function(r){return r.map((function(t){return e.push(t[0]),o.push(t[1]),u({},t,{value:t.data[r.key]})}))})),l=Math.min.apply(Math,e),a=Math.max.apply(Math,o);return[r,s.scalePoint().domain(Array.from({length:n.length},(function(e,o){return o}))).range([0,t]),s.scaleLinear().domain([l,a]).range([i,0])]}),[P,n,t,i]),q=z[0],E=z[1],G=z[2],A=r.useTheme(),R=c.useOrdinalColorScale(j,"id"),H=c.useInheritedColor(S,A),V=o.useMemo((function(){return"function"==typeof W?W:function(){return W}}),[W]),X=c.useInheritedColor(T,A),Y=o.useMemo((function(){return"function"==typeof I?I:function(){return I}}),[I]),_=c.useInheritedColor(D,A),J=r.usePropertyAccessor(f),K=r.useValueFormatter(p),N=o.useMemo((function(){return q.map((function(e,o){var r=e.map((function(e,r){return{layerId:l[o],layerLabel:"",index:r,color:"",x:E(r),value:e.value,formattedValue:K(e.value),y1:G(e[0]),y2:G(e[1])}})),t={id:l[o],path:F(r)},i=u({},t,{label:J(t),color:R(t)});return u({},i,{data:r.map((function(e){return e.layerLabel=i.label,e.color=i.color,e}))})}))}),[q,l,J,F,R,E,G,K]),Q=o.useMemo((function(){return Array.from({length:n.length},(function(e,o){var r=N.map((function(e){return e.data[o]})).sort((function(e,o){return e.y2-o.y2}));return{index:o,x:N[0].data[o].x,stack:r}}))}),[n.length,N]),U=o.useMemo((function(){return{xScale:E,yScale:G,layers:N,slices:Q}}),[E,G,N,Q]);return{xScale:E,yScale:G,layers:N,slices:Q,getBorderColor:H,getDotSize:V,getDotColor:X,getDotBorderWidth:Y,getDotBorderColor:_,layerContext:U}},C=["isInteractive","animate","motionConfig","theme","renderWrapper"],j=function(e){var n=e.data,l=e.keys,d=e.label,s=e.valueFormat,c=e.offsetType,f=e.order,v=e.curve,g=e.layers,y=void 0===g?x.layers:g,C=e.width,j=e.height,B=e.margin,S=e.axisTop,k=e.axisRight,W=e.axisBottom,M=void 0===W?x.axisBottom:W,T=e.axisLeft,O=void 0===T?x.axisLeft:T,I=e.enableGridX,w=void 0===I?x.enableGridX:I,D=e.enableGridY,L=void 0===D?x.enableGridY:D,F=e.colors,P=e.fillOpacity,z=void 0===P?x.fillOpacity:P,q=e.borderWidth,E=void 0===q?x.borderWidth:q,G=e.borderColor,A=e.defs,R=void 0===A?x.defs:A,H=e.fill,V=void 0===H?x.fill:H,X=e.enableDots,Y=void 0===X?x.enableDots:X,_=e.dotPosition,J=void 0===_?x.dotPosition:_,K=e.dotComponent,N=void 0===K?x.dotComponent:K,Q=e.dotSize,U=e.dotColor,Z=e.dotBorderWidth,$=e.dotBorderColor,ee=e.isInteractive,oe=void 0===ee?x.isInteractive:ee,re=e.tooltip,te=void 0===re?x.tooltip:re,ie=e.enableStackTooltip,ne=void 0===ie?x.enableStackTooltip:ie,le=e.stackTooltip,ae=void 0===le?x.stackTooltip:le,de=e.legends,se=void 0===de?x.legends:de,ce=e.role,ue=e.ariaLabel,fe=e.ariaLabelledBy,pe=e.ariaDescribedBy,ve=r.useDimensions(C,j,B),he=ve.margin,ge=ve.innerWidth,me=ve.innerHeight,ye=ve.outerWidth,xe=ve.outerHeight,be=b({width:ge,height:me,data:n,keys:l,label:d,valueFormat:s,offsetType:c,order:f,curve:v,colors:F,borderColor:G,dotSize:Q,dotColor:U,dotBorderWidth:Z,dotBorderColor:$}),Ce=be.xScale,je=be.yScale,Be=be.layers,Se=be.slices,ke=be.getBorderColor,We=be.getDotSize,Me=be.getDotColor,Te=be.getDotBorderWidth,Oe=be.getDotBorderColor,Ie=be.layerContext,we=r.bindDefs(R,Be,V),De={grid:null,axes:null,layers:null,dots:null,slices:null,legends:null};return y.includes("grid")&&(De.grid=a.jsx(t.Grid,{width:ge,height:me,xScale:w?Ce:null,yScale:L?je:null},"grid")),y.includes("axes")&&(De.axes=a.jsx(t.Axes,{xScale:Ce,yScale:je,width:ge,height:me,top:S,right:k,bottom:M,left:O},"axes")),y.includes("layers")&&(De.layers=a.jsx(p,{layers:Be,fillOpacity:z,borderWidth:E,getBorderColor:ke,isInteractive:oe,tooltip:te},"layers")),y.includes("dots")&&Y&&(De.dots=a.jsx(o.Fragment,{children:Be.map((function(e){return a.jsx(h,{id:e.id,color:e.color,data:e.data,dotComponent:N,position:J,getSize:We,getColor:Me,getBorderWidth:Te,getBorderColor:Oe},e.id)}))},"dots")),y.includes("slices")&&oe&&ne&&(De.slices=a.jsx(m,{slices:Se,height:me,tooltip:ae},"slices")),y.includes("legends")&&(De.legends=a.jsx(o.Fragment,{children:se.map((function(e,o){var r=Be.map((function(e){return{id:e.id,label:e.label,color:e.color,fill:e.fill}})).reverse();return a.jsx(i.BoxLegendSvg,u({},e,{containerWidth:ge,containerHeight:me,data:r}),o)}))},"legends")),a.jsx(r.SvgWrapper,{width:ye,height:xe,margin:he,defs:we,role:ce,ariaLabel:ue,ariaLabelledBy:fe,ariaDescribedBy:pe,children:y.map((function(e,r){var t;return"function"==typeof e?a.jsx(o.Fragment,{children:o.createElement(e,Ie)},r):null!=(t=null==De?void 0:De[e])?t:null}))})},B=function(e){var o=e.isInteractive,t=void 0===o?x.isInteractive:o,i=e.animate,n=void 0===i?x.animate:i,l=e.motionConfig,d=void 0===l?x.motionConfig:l,s=e.theme,c=e.renderWrapper,f=function(e,o){if(null==e)return{};var r,t,i={},n=Object.keys(e);for(t=0;t<n.length;t++)r=n[t],o.indexOf(r)>=0||(i[r]=e[r]);return i}(e,C);return a.jsx(r.Container,{animate:n,isInteractive:t,motionConfig:d,renderWrapper:c,theme:s,children:a.jsx(j,u({isInteractive:t},f))})};e.ResponsiveStream=function(e){return a.jsx(r.ResponsiveWrapper,{children:function(o){var r=o.width,t=o.height;return a.jsx(B,u({width:r,height:t},e))}})},e.Stream=B,e.defaultProps=y,e.svgDefaultProps=x,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-stream.umd.js.map
